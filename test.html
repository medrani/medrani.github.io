<head>
    <meta charset="UTF-8">
    <title>安卓app打开或下载</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-itunes-app" content="app-id=1503453305">
    <style>
        *{
            margin:0;
            padding:0;
        }
        .box{
            padding: 45px 0;
            text-align: center;
            color: #666;
        }
    </style>
</head>
<body>
<div id="browser">
    <div class="box">
        <p>安卓app打开或下载</p>
    </div>
    <script>
        //  安卓下载跳转
(function(param){
    var u = navigator.userAgent;
    var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1;

    var addCookie = function(objName,objValue,objHours,objDomain,objPath){
        var str = objName + "=" + escape(objValue);
        if(objHours > 0){ //为时不设定过期时间，浏览器关闭时cookie自动消失
            var date = new Date();
            var ms = objHours*3600*1000;
            date.setTime(date.getTime() + ms);
            str += "; expires=" + date.toGMTString();
            if(objDomain){
                str += ";domain="+objDomain;
            }
            if(objPath){
                str += ";path="+objPath;
            }
        }
        document.cookie = str;
    };
    function getCookie(objName){
        var arrStr = document.cookie.split("; ");
        for(var i = 0;i < arrStr.length;i ++){
        var temp = arrStr[i].split("=");
        if(temp[0] == objName) return unescape(temp[1]);
        }
    };
    var isHide = getCookie('isHide');
    if(isHide){
        return false;
    }
    if(isAndroid){
        var $module = document.createElement('div');
        var $firstNode = document.body.childNodes[0];
        document.body.insertBefore($module,$firstNode);
        $module.innerHTML = '<div style="padding:15px;background:#f5f5f5;border-bottom:1px solid #e4e4e4;overflow:hidden;">\
                <div style="max-width:640px;margin:0 auto;">\
                    <a href="javascript:;" style="float:left;position:relative;width:20px;height:60px;margin-left:-15px;padding:0 5px;line-height:60px;text-decoration:none;font-size:18px;">\
                        <span style="position:absolute;margin:20px 0;display:inline-block;width:20px;height:20px;line-height:19px;text-align:center;background:#ccc;border-radius:50%;color:#fff;">×</span>\
                    </a>\
                    <div style="float:left;"><img src="'+param['iconUrl']+'" width="60" height="60"/></div>\
                    <button style="float:right;width:72px;height:32px;margin:14px 0;background:#0070c9;border:medium none;border-radius:16px;line-height:28px;font-weight:bold;font-size:15px;color:#fff;">打开</button>\
                    <div style="margin:0 80px 0 85px;padding:6px 0;line-height:48px;white-space: nowrap;text-overflow:ellipsis;overflow:hidden;">\
                        <p style="font-size:16px;font-weight:bold;">iP归属地查询</p>\
                    </div>\
                </div>\
            </div>\
        </div>';
        var $button = $module.querySelector('button');
        var $close = $module.querySelector('a');
        var isClick = false;
        var hander = null;
        $button.onclick = function(){
            if(!isClick){
                $link = document.createElement('a');
                $link.href = param['schemeUrl'];
                var clickEvent=new MouseEvent('click');
                $link.dispatchEvent(clickEvent);

                isClick = true;
                hander = setTimeout(function(){
                    $button.style.backgroundColor = '#4bae4f';
                    $button.innerText = '下载';
                },2000);
            }else{
                window.open(param['downUrl']);
            }
        };
        $close.onclick = function(){
            addCookie('isHide',true,24);
            document.body.removeChild($module);
        };
        document.addEventListener('visibilitychange', function() {
            if(isClick){
                isClick = false;
                hander&&clearTimeout(hander);
            }
        });
    }
})({
    schemeUrl:'openapp://ipchaxun',
    downUrl:'https://cache.ip138.com/ipchaxun/app/ipchaxun-1.2.2.apk',
    iconUrl:'data:image/png;base64,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'
});
    </script>
    <a href="wxwork://addfriend?vid=1688852668929005&vcode=dcamxxamtlc2xnZHFwbG54aTT9kxjPQVoeuBr_vwNV7zPkZCO95oYo485h2B4GvVMU">企业微信</a>
</div>
</html>
